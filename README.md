# Телефонная книга

В данном проекте создана телефонная книга.

## Как запустить локально

- Скачайте код
- Установите зависимости командой `pip install -r requirements.txt`
- В данном проекте используется база данных mariadb. Соответственно необходимо пользователя БД и саму базу данных. 
Эта процедура подробно расписана в [статье](https://androidp1.ru/kak-ustanovit-mariadb-sozdat-bazu-dannyh-polzovatelja-i-parol/).

    После установки необходимо импортировать данные из существующего файла в созданную вами базу данных. 
Сделать это можно, используя команду:

    `$ mysql -u имя_пользователя -p имя_БД < data_phone_book.sql`

- Для запуска скрипта используйте команду `python main.py`

## Переменные окружения

Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` рядом с `main.py` и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Доступны 3 переменные:
- `USER` — имя вашего пользователя для входа в базу данных
- `PASSWORD` — ваш пароль для входа в базу данных
- `DATABASE` — название созданной вами базы данных

## Руководство по пользованию 

Когда пользователь запускает программу перед ним появляется окно авторизации.При включенном чекбоксе – «Запомнить меня» и успешном входе, при закрытии программы и повторном запуске будет автоматический вход без авторизации. Чтобы сменить пользователя необходимо нажать кнопку "Выйти", и тогда откроется окно авторизации.

![Image alt](https://github.com/Fiskless/tz_pyqt/blob/main/pictures/login_window.png)

Пользователь вводит логин и пароль, нажимает кнопку «Войти». В случае нахождения пользователя с такой комбинацией программа переходит к главному меню, в случае отсутствия появляется всплывающее окно «Пользователь с такими данными не найден»

![Image alt](https://github.com/Fiskless/tz_pyqt/blob/main/pictures/contact_window.png)

Если пользователь забыл пароль – по нажатию на ссылку «Забыли пароль?» открывается окно «Восстановление пароля»

![Image alt](https://github.com/Fiskless/tz_pyqt/blob/main/pictures/password_reset_window.png)

При нажатии на кнопку «Регистрация» открывается окно «Регистрация»

![Image alt](https://github.com/Fiskless/tz_pyqt/blob/main/pictures/new_user_window.png)

В случае успешного входа/регистрации перед пользователем открывается главное окно с навигацией по Алфавиту.
Также реализована система напоминаний: при открытии программы открывается окно, в котором показывается список именинников на ближайшую неделю.

![Image alt](https://github.com/Fiskless/tz_pyqt/blob/main/pictures/birthday_reminder.png)

Есть возможность добавления, редактирования, удаления контакта. Для этого используются кнопки "Добавить", "Сохранить изменения", "Удалить". 
После нажатия кнопки "Добавить", открывается окно для создания нового контакта. После ввода данных эта запись сразу добавляется в книгу на соответствующую вкладку.
В программе есть логический контроль дубликатов, то есть запрет на создание пользователя с данными, которые полностью совпадают с существующим контактом.

![Image alt](https://github.com/Fiskless/tz_pyqt/blob/main/pictures/new_contact.png)

Для обновления записи необходимо изменить запись, после чего нажать кнопку "Сохранить изменения". 
За один раз возможно внести изменения только в 1 строку. 

Для удаления записи необходимо кликнуть на любую ячейку нужной строки и нажать кнопку "Удалить".



